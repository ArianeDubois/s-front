const __vite__fileDeps=["./DtB1EpEi.js","./CIqZhkmh.js","./C7jP110Z.js","./entry.BdlWPj3U.css","./NavProject.BoJ26IbA.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{m as D,K,q as L,r as P,l as M,s as O,v as f,L as Q,M as G,A as H,z as U,o as c,c as i,a as o,F as J,G as W,N as X,b as p,H as g,j as e,w as T,t as w,I as b,g as Y,e as Z,d as u,p as ee,f as te,O as oe,P as re,_ as le}from"./C7jP110Z.js";import{_ as ne}from"./CIqZhkmh.js";import{_ as se}from"./CXT0DpN4.js";import{_ as ae}from"./DwnZ1wl3.js";const ce=oe(()=>re(()=>import("./DtB1EpEi.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url).then(d=>d.default||d)),q=d=>(ee("data-v-532237f3"),d=d(),te(),d),ie={class:"grid"},ue={class:"album-gallery"},de={key:0,class:"cover"},_e={class:"icon"},ye={class:"value title"},pe=q(()=>o("div",{class:"key"},[u("Titre "),o("br"),u("du projet")],-1)),he={key:0,class:"value"},me=q(()=>o("div",{class:"key"},[u("Crédit"),o("br"),u(" photo")],-1)),ve={key:1,c:"",class:"value"},fe=q(()=>o("div",{class:"key"},[u("Année "),o("br"),u("de réalisation")],-1)),ge={key:2,class:"value"},we=q(()=>o("div",{class:"key"},"Client",-1)),qe=D({__name:"[...id]",async setup(d){var $,A,C;let a,m;const{$gsap:r}=Y();K();const{data:B}=([a,m]=L(()=>P({query:`page("${M().path}")`,select:{id:!0,title:!0,client:!0,credit:!0,tags:!0,color:!0,year:!0,intendedTemplate:!0,subheadline:!0,gallery:{query:'page.images.sortBy("sort", "asc")',select:{resized:{query:"file.resize(2000)",select:["url","width","height","alt"]},width:!0,height:!0,url:!0,alt:!0}},cover:{query:"page.content.cover.toFile",select:{width:!0,height:!0,resized:{query:"file.resize(2000)",select:["url","width","height","alt"]},alt:!0}}}})),a=await a,m(),a),t=($=B.value)==null?void 0:$.result;O(t);const{data:R}=([a,m]=L(()=>P({query:'page("photography")',select:{id:!0,title:!0,tags:!0,intendedTemplate:!0,subheadline:!0,children:{query:"page.children.listed",select:{id:!0,title:!0,url:!0,cover:{query:"page.content.cover.toFile",select:{url:!0,alt:!0,height:!0,width:!0}}}}}})),a=await a,m(),a),n=((C=(A=R.value)==null?void 0:A.result)==null?void 0:C.children)||[],y=n.findIndex(({id:l})=>l===(t==null?void 0:t.id)),k=f(null),z=f(!1),S=f(null),I=f(null);Q((l,v,h)=>{document.querySelector(".transition-clone")&&document.querySelectorAll(".transition-clone").forEach(_=>_.remove()),h()}),G((l,v,h)=>{document.querySelector(".transition-nav-clone")&&r.to(".transition-clone",{opacity:0,duration:.5,onComplete:()=>document.querySelectorAll(".transition-nav-clone").forEach(_=>_.remove())}),document.querySelector(".transition-clone")&&document.querySelectorAll(".transition-clone").forEach(_=>_.remove()),h()});const V=()=>{z.value=!0,document.body.style.overflow="auto",r.to("header",{opacity:1}),document.querySelector(".transition-clone")&&r.to(".transition-clone",{opacity:0,duration:.5,onComplete:()=>document.querySelectorAll(".transition-clone").forEach(l=>l.remove())}),document.querySelector(".transition-nav-clone")&&r.to(".transition-clone",{opacity:0,duration:.5,onComplete:()=>document.querySelectorAll(".transition-nav-clone").forEach(l=>l.remove())}),document.querySelector(".low-quality")&&r.set(".low-quality",{objectFit:"contain"})};return H(()=>{z.value||(document.body.style.overflow="hidden"),r.to(k.value,{opacity:1,duration:.25}),t!=null&&t.color&&(document.querySelector(".about-content")&&r.set(".about-content .col",{color:t.color}),r.set("header",{color:t.color}),r.set("body",{color:t.color})),r.to(I.value.children,{opacity:1,stagger:.1}),U(()=>{S.value&&S.value.forEach(l=>{r.to(l.$el.children[0],{opacity:1,scrollTrigger:{trigger:l.$el,start:"top center",end:"+=100",scrub:!0},ease:"power2.out"})})})}),(l,v)=>{var N;const h=ne,_=se,E=Z,j=ae,F=ce;return c(),i("article",null,[o("div",ie,[o("ul",ue,[(c(!0),i(J,null,W(((N=e(t))==null?void 0:N.gallery)??[],(s,x)=>(c(),i("li",{key:x,class:X(x===0?"cover":"images")},[x===0?(c(),i("figure",de,[p(h,{onLoad:v[0]||(v[0]=Se=>V()),loading:"eager",preload:!0,src:s.url,alt:s.alt,width:s.width,height:s.height,quality:"80",format:"webp",sizes:"70vw sm:70vw md:70vw lg:50vw xl:50vw"},null,8,["src","alt","width","height"])])):(c(),i("figure",{key:1,class:"lazy-wrapper",style:g(`width: auto; position: relative; overflow: hidden; aspect-ratio: ${s.width} / ${s.height}; display: flex; justify-content: center; align-items: center; margin:auto`)},[p(_,{ref_for:!0,ref_key:"lazyImage",ref:S,"is-loading":!0,src:s.url,lowQualitySrc:s.url,alt:s.alt,sizes:"100vw sm:100vw md:100vw lg:70vw xl:70vw"},null,8,["src","lowQualitySrc","alt"])],4))],2))),128))])]),o("div",{ref_key:"infos",ref:k,class:"infos"},[p(E,{style:g(`color: ${e(t).color}; pointer-events:${e(n)[e(y)-1]?"auto":"none"}`),to:"/"+(e(n)[e(y)-1]?e(n)[e(y)-1].id:e(n)[e(n).length-1].id),class:"button-nav"},{default:T(()=>[u("PREV")]),_:1},8,["style","to"]),o("ul",{class:"content",style:g(`color: ${e(t).color}`),ref_key:"content",ref:I},[o("li",_e,[p(j)]),o("li",ye,[o("div",null,w(e(t).title),1),pe]),e(t).credit?(c(),i("li",he,[o("div",null,w(e(t).credit),1),me])):b("",!0),e(t).year?(c(),i("li",ve,[o("div",null,w(e(t).year),1),fe])):b("",!0),e(t).client?(c(),i("li",ge,[o("div",null,w(e(t).client),1),we])):b("",!0)],4),p(E,{style:g(`color: ${e(t).color}; opacity:${e(n)[e(y)+1]?1:0} `),to:"/"+(e(n)[e(y)+1]?e(n)[e(y)+1].id:"0"),class:"button-nav"},{default:T(()=>[u("Next")]),_:1},8,["style","to"])],512),p(F)])}}}),Ie=le(qe,[["__scopeId","data-v-532237f3"]]);export{Ie as default};
